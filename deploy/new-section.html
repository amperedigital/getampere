<!-- Expertise Section: Full Screen Sticky Slider -->
<section id="expertise-section" class="relative bg-zinc-950 text-white selection:bg-purple-500/30">
    <style>
        @keyframes fadeUpIn {
            from { opacity: 0; transform: translateY(20px); filter: blur(4px); }
            to { opacity: 1; transform: translateY(0); filter: blur(0); }
        }
        .animate-text-reveal {
            opacity: 0;
        }
        .animate-text-reveal.in-view {
            animation: fadeUpIn 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        .delay-100 { animation-delay: 0.1s; }
        .delay-300 { animation-delay: 0.3s; }
    </style>
    
    <!-- Scroll Content Track: Determines the height/length of the scroll interaction -->
    <!-- We use 300vh so we have 3 screens worth of scrolling to cycle through slides -->
    <div id="expertise-scroll-track" class="relative h-[300vh]">
        
        <!-- Sticky Viewport: This pins to the screen while we scroll through the track -->
        <div class="sticky top-0 h-screen w-full flex flex-col overflow-hidden">
            
            <!-- Ambient Background (Noise) -->
            <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay pointer-events-none z-0"></div>
            
            <!-- Mouse Spotlight Gradient -->
            <div id="expertise-spotlight" class="pointer-events-none absolute inset-0 z-0 transition-opacity duration-500 opacity-0"
                 style="background: radial-gradient(800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(120, 50, 255, 0.1), transparent 50%);">
            </div>

            <!-- "Four Corner" Grid Lines Background -->
            <div class="absolute inset-0 z-0 pointer-events-none">
                <!-- Vertical Center Line -->
                <div class="absolute left-1/2 top-0 bottom-0 w-px bg-white/5"></div>
                <!-- Horizontal Center Line -->
                <div class="absolute top-1/2 left-0 right-0 h-px bg-white/5"></div>
            </div>

            <!-- 1. Top Header (Centered) -->
            <header class="relative z-20 flex-none pt-24 lg:pt-32 text-center pointer-events-none w-full">
                <h2 class="text-4xl sm:text-6xl lg:text-7xl font-bold tracking-tighter leading-[0.95] text-white">
                    <span class="block animate-text-reveal delay-100">A solid expertise.</span>
                    <span class="text-zinc-500 text-2xl sm:text-4xl block mt-4 font-normal animate-text-reveal delay-300">For more than 40 years.</span>
                </h2>
            </header>

            <!-- 2. Main Content Area (Slides) -->
            <main id="expertise-slides" class="flex-1 relative w-full h-full flex items-center justify-center perspective-1000">
                
                <!-- Slide 1: Solutions -->
                <div class="expertise-slide absolute inset-0 w-full h-full flex items-center justify-center transition-all duration-700 ease-out opacity-100 translate-y-0 scale-100 px-6" 
                     data-index="0">
                    <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 w-full max-w-7xl gap-12 lg:gap-24 items-center">
                        <div class="text-center lg:text-right">
                            <h3 class="text-5xl sm:text-7xl lg:text-[7rem] xl:text-[9rem] font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-white to-zinc-600 leading-none">
                                Solutions
                            </h3>
                        </div>
                        <div class="text-center lg:text-left max-w-xl mx-auto lg:mx-0">
                            <p class="text-xl sm:text-2xl text-zinc-400 leading-relaxed font-light">
                                Tailored solutions designed and thought out to meet your security needs and perfectly adapt to your organization.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: Centralization -->
                <div class="expertise-slide absolute inset-0 w-full h-full flex items-center justify-center transition-all duration-700 ease-out opacity-0 translate-y-8 scale-95 px-6" 
                     data-index="1">
                    <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 w-full max-w-7xl gap-12 lg:gap-24 items-center">
                        <div class="text-center lg:text-right">
                            <h3 class="text-5xl sm:text-7xl lg:text-[7rem] xl:text-[9rem] font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-white to-zinc-600 leading-none">
                                The Hub
                            </h3>
                        </div>
                        <div class="text-center lg:text-left max-w-xl mx-auto lg:mx-0 space-y-8">
                            <p class="text-xl sm:text-2xl text-zinc-400 leading-relaxed font-light">
                                A unique platform to facilitate your purchases and centralize your cyber tools in one dashboard.
                            </p>
                            <button class="pointer-events-auto inline-flex items-center gap-3 px-8 py-3 rounded-full bg-white text-black font-semibold tracking-wide hover:bg-zinc-200 transition-all hover:scale-105 active:scale-95">
                                Discover The Hub
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: Expertise -->
                <div class="expertise-slide absolute inset-0 w-full h-full flex items-center justify-center transition-all duration-700 ease-out opacity-0 translate-y-8 scale-95 px-6" 
                     data-index="2">
                    <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 w-full max-w-7xl gap-12 lg:gap-24 items-center">
                        <div class="text-center lg:text-right">
                            <h3 class="text-5xl sm:text-7xl lg:text-[7rem] xl:text-[9rem] font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-white to-zinc-600 leading-none">
                                Expertise
                            </h3>
                        </div>
                        <div class="text-center lg:text-left max-w-xl mx-auto lg:mx-0">
                            <p class="text-xl sm:text-2xl text-zinc-400 leading-relaxed font-light">
                                Our highly qualified and certified experts ensure the highest security standards to meet all your specific needs.
                            </p>
                        </div>
                    </div>
                </div>

            </main>

            <!-- 3. Bottom Navigation (Centered) -->
            <footer class="relative z-20 flex-none pb-12 sm:pb-16 flex justify-center w-full pointer-events-none">
                <div class="flex items-center gap-4 sm:gap-8 font-mono text-sm tracking-widest text-zinc-600">
                    <span id="nav-num-0" class="nav-num text-white transition-colors duration-300">01</span>
                    
                    <!-- Progress Bar Container -->
                    <div class="w-32 sm:w-64 h-px bg-zinc-800 relative overflow-hidden rounded-full">
                        <div id="nav-progress-fill" class="absolute inset-y-0 left-0 bg-white w-1/3 transition-all duration-300 ease-out rounded-full" style="transform: translateX(0%);"></div>
                    </div>

                    <span id="nav-num-1" class="nav-num transition-colors duration-300">02</span>
                    <span id="nav-num-2" class="nav-num transition-colors duration-300 ml-auto hidden sm:inline">03</span>
                </div>
            </footer>

        </div>
    </div>

    <script>
    (function() {
        const track = document.getElementById('expertise-scroll-track');
        const slides = document.querySelectorAll('.expertise-slide');
        const progressFill = document.getElementById('nav-progress-fill');
        const section = document.getElementById('expertise-section');
        const spotlight = document.getElementById('expertise-spotlight');

        // 1. Mouse Spotlight
        if (section && spotlight) {
            section.addEventListener('mousemove', (e) => {
                const rect = section.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                section.style.setProperty('--mouse-x', `${x}px`);
                section.style.setProperty('--mouse-y', `${y}px`);
                spotlight.style.opacity = '1';
            });
            section.addEventListener('mouseleave', () => {
                spotlight.style.opacity = '0';
            });
        }

        // 2. Scroll Animation
        let ticking = false;
        function updateSlider() {
            if (!track) return;
            const rect = track.getBoundingClientRect();
            const viewportHeight = window.innerHeight;
            
            // Current progress through the stickiness
            const totalScrollable = rect.height - viewportHeight;
            let progress = -rect.top / totalScrollable;
            progress = Math.max(0, Math.min(1, progress));

            // Determine active slide
            const slideCount = 3;
            let activeIndex = Math.floor(progress * slideCount);
            if (activeIndex >= slideCount) activeIndex = slideCount - 1;

            // Update Slides
            slides.forEach((slide, index) => {
                if (index === activeIndex) {
                    slide.style.opacity = '1';
                    slide.style.transform = 'translateY(0) scale(1)';
                } else if (index < activeIndex) {
                     slide.style.opacity = '0';
                     slide.style.transform = 'translateY(-30px) scale(0.95)';
                } else {
                     slide.style.opacity = '0';
                     slide.style.transform = 'translateY(30px) scale(0.95)';
                }
            });

            // Update Progress Bar
            // Map 0 -> 1 progress to 0 -> 200% transform (since width is 1/3)
            const translateVal = progress * 200; 
            if(progressFill) progressFill.style.transform = `translateX(${translateVal}%)`;

            // Update Numbers
            const num0 = document.getElementById('nav-num-0');
            const num1 = document.getElementById('nav-num-1');
            const num2 = document.getElementById('nav-num-2');
            
            if(num0) num0.classList.remove('text-white');
            if(num1) num1.classList.remove('text-white');
            if(num2) num2.classList.remove('text-white');

            if (activeIndex === 0 && num0) num0.classList.add('text-white');
            if (activeIndex === 1 && num1) num1.classList.add('text-white');
            if (activeIndex === 2 && num2) num2.classList.add('text-white');
            
            ticking = false;
        }

        // 3. Text Reveal Observer
        const textReveals = document.querySelectorAll('.animate-text-reveal');
        if (textReveals.length > 0) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            textReveals.forEach(el => observer.observe(el));
        }

        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(updateSlider);
                ticking = true;
            }
        });
        updateSlider();
    })();
    </script>
</section>
